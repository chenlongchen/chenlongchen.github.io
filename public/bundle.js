!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.app=e.app,n.sence=new PIXI.Container,n.senceManger=e.senceManger,n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.Container),o(t,[{key:"init",value:function(){var e=new r.default(0);this.sence.addChild(e.spriteContainer),this.addChild(this.sence);var t=new a.default(e,{Container:this,width:this.app.renderer.view.width,height:this.app.renderer.view.height,senceManger:this.senceManger});this.senceManger.renderSence.push(t)}}]),t}();t.default=l},function(e,t,n){"use strict";var o=a(n(2)),r=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}for(var i=["images/2.png","images/3.png","images/4.png","images/block.png","images/boom.png","images/box.png","images/box1.png","images/down.png","images/up.png","images/left.png","images/right.png","images/key.png","images/downbtn.png","images/upbtn.png","images/leftbtn.png","images/rightbtn.png","images/hiter.png","images/opacity.png","images/player.png","images/replay.png","images/wall.png"],l=1;l<25;l++)i.push("images/bombing/"+l+".png");var u=new PIXI.loaders.Loader;u.add(i).onProgress.add(function(e){}),u.load(function(e,t){p.loadScene(r.default,{app:f,senceManger:p})});window.devicePixelRatio;var c=window.innerWidth,s=window.innerHeight,h=new PIXI.Container,f=new PIXI.Application({width:c,height:s,antialias:!0,transparent:!0});f.renderer.autoResize=!0,f.stage.addChild(h),h.rotation=Math.PI/2,f.renderer.resize(c,s),h.position.set(c,0),document.getElementById("canvas").append(f.renderer.view);var p=new o.default(h,f);f.ticker.add(function(){if(0!=p.renderSence.length)for(var e=0;e<p.renderSence.length;e++)p.renderSence[e].renderGame()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentScene=null,this.stage=t,this.app=n,this.renderSence=[]}return o(e,[{key:"loadScene",value:function(e,t){this.currentScene=t?new e(t):new e,this.stage.removeChildren(),this.stage.addChild(this.currentScene)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(4)),a=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=r.default[t],this.player=null,this.spriteContainer=new PIXI.Container,this.box=new PIXI.Container,this.MapPool=[],this.end=[],this.canMove=[],this.KeyItem=[],this.haskey=null,this.background=new PIXI.particles.ParticleContainer(this.map.length*this.map[0].length,{scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),this.drawMap(this.map),this.pushKey()}return o(e,[{key:"pushKey",value:function(){var e=this.randnum(0,this.KeyItem.length),t=this.KeyItem[e],n=new PIXI.Sprite(PIXI.Texture.fromImage("images/key.png"));n.position.set(t.x,t.y),t.keyRoom=n,n.val=6,this.haskey=t;var o=this.box.children.indexOf(t);this.box.addChildAt(n,o)}},{key:"moveHiter",value:function(e){}},{key:"drawMap",value:function(e){for(var t=0;t<e.length;t++){this.MapPool[t]=[];for(var n=0;n<e[t].length;n++){var o=new PIXI.Sprite;o.position.set(50*n,50*t);var r=new PIXI.Sprite;switch(r.position.set(50*n,50*t),r.texture=PIXI.Texture.fromImage("images/block.png"),r.boType=0,r.val=0,e[t][n]){case 0:o.texture=PIXI.Texture.fromImage("images/opacity.png"),o.boType=0,o.val=0,this.canMove.push({row:t,col:n});break;case 1:o.texture=PIXI.Texture.fromImage("images/box.png"),o.boType=1,o.val=1;break;case 2:o.texture=PIXI.Texture.fromImage("images/box1.png"),o.boType=2,o.val=1;break;case 3:o.texture=PIXI.Texture.fromImage("images/4.png"),o.boType=3,o.val=2,this.end.push(o);break;case 4:o.texture=PIXI.Texture.fromImage("images/down.png"),o.boType=4,o.val=4,this.player=o;break;case 5:o.texture=PIXI.Texture.fromImage("images/3.png"),o.boType=5,o.val=5,this.KeyItem.push(o)}o.row=t,o.col=n,this.MapPool[t][n]=o,this.box.addChild(o),this.background.addChild(r)}}this.spriteContainer.addChild(this.background,this.box)}},{key:"moveEnemy",value:function(e,t,n,o){var r=(0,a.default)(e,t,n);if(r)for(var i=0;i<r.length;i++)!function(n){var a=null;a=setTimeout(function(){e[t.row][t.col].val=0,e[r[n].row][r[n].col].val=2,t.row=r[n].row,t.col=r[n].col,t.position.set(r[n].x,r[n].y),n==r.length-1&&(console.log("end"),o&&o()),clearTimeout(a)},500*n)}(i);else console.log("无路可走")}},{key:"noRepeat",value:function(e,t,n){for(var o=[],r=0;r<e;r++){o[r]=parseInt(Math.random()*(n-t+1)+t);for(var a=0;a<r;a++)if(o[r]==o[a]){r-=1;break}}return o}},{key:"randnum",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[];o[0]=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,5,3,0,0,0,0,0,3,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,1,1],[1,1,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,3,2,1,1],[1,1,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,3,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,1,1],[1,1,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],t.default=o},function(e,t,n){"use strict";function o(e,t){var n=null,o=null,r=null,a=null,i=[];return t.row-1>=0&&(n=e[t.row-1][t.col],i.push(n)),t.col-1>=0&&(o=e[t.row][t.col-1],i.push(o)),t.row+1<e.length&&(r=e[t.row+1][t.col],i.push(r)),t.col+1<e[0].length&&(a=e[t.row][t.col+1],i.push(a)),i}function r(e,t){for(var n=0,o=e.length;n<o;n++)if(t.row==e[n].row&&t.col==e[n].col||t==e[n])return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=[],i=[],l=null,u=!0;for(t.F=0,t.G=0,t.H=0,i.push(t),l=t,Math.abs(t.row-n.row)+Math.abs(t.col-n.col)==1&&(n.P=t,i.push(n),u=!1);l&&u;){r(i,l)||i.push(l);for(var c=o(e,l),s=0;s<c.length;s++)1==c[s].val||r(i,c[s])||r(a,c[s])||r(a,c[s])||1==c[s].val||(c[s].G=l.G+1,c[s].H=Math.abs(c[s].col-n.col)+Math.abs(c[s].row-n.row),c[s].F=c[s].G+c[s].H,c[s].P=l,a.push(c[s]));if(!a.length){l=null,a=[],i=[];break}a.sort(function(e,t){return e.F-t.F});var h=a[0],f=[];for(s=0;s<a.length;s++)a[s].F==h.F&&f.push(a[s]);if(f.length>1){for(s=0;s<f.length;s++)f[s].D=Math.abs(f[s].row-l.row)+Math.abs(f[s].col-l.col);f.sort(function(e,t){return e.D-t.D}),h=f[0]}for(r(i,l=h)||i.push(l),s=0;s<a.length;s++)if(a[s]==l){a.splice(s,1);break}1==l.H&&(n.P=l,i.push(n),l=null)}if(i.length){var p=i[i.length-1],g=[];for(s=0;p;)g.unshift(p),(p=p.P).P||(p=null);return g}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(7)),a=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.maxlen=2,o.boom=new PIXI.Container,o.delay=3e3,o.map=e,o.layaOption=n,o.timer=null,o.viewWdith=o.layaOption.height,o.viewHeight=o.layaOption.width,o.layaOut=new a.default(o.layaOption.Container,o.layaOption.width,o.layaOption.height,o.layaOption.senceManger),o.init(),o.goto(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.utils.EventEmitter),o(t,[{key:"init",value:function(e){var t=this,n=new r.default(this.layaOption.Container);n.on("move",function(e){t.CanMove(e,t.map.player,t.map.MapPool)}),n.on("boom",function(e){var n=t.map.player,o={row:n.row,col:n.col,x:n.x,y:n.y,parent:n.parent};t.createboom(o)})}},{key:"moveSence",value:function(e){var t=Math.floor(this.viewWdith/2/50),n=Math.floor((e.parent.parent.parent.width-this.viewWdith)/50),o=Math.floor(this.viewHeight/2/50),r=Math.floor((e.parent.parent.parent.height-this.viewHeight)/50);e.col>=t&&e.col<=t+n&&TWEEN.Tween.get(e.parent.parent.parent).to({x:50*-(e.col-t)},200,TWEEN.Ease.linear),e.row>=o&&e.row<=o+r&&TWEEN.Tween.get(e.parent.parent.parent).to({y:50*-(e.row-o)},200,TWEEN.Ease.linear)}},{key:"CanMove",value:function(e,t,n){switch(e){case"up":return 1!=n[t.row-1][t.col].val&&5!=n[t.row-1][t.col].val&&(github=!0,n[t.row][t.col].val=0,n[t.row-1][t.col].val=4,t.row=t.row-1,t.texture=PIXI.Texture.fromImage("images/up.png"),TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){github=!1}),this.moveSence(t),!0);case"down":return 1!=n[t.row+1][t.col].val&&5!=n[t.row+1][t.col].val&&(github=!0,n[t.row][t.col].val=0,n[t.row+1][t.col].val=4,t.row=t.row+1,t.texture=PIXI.Texture.fromImage("images/down.png"),TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){github=!1}),this.moveSence(t),!0);case"left":return 1!=n[t.row][t.col-1].val&&5!=n[t.row][t.col-1].val&&(github=!0,n[t.row][t.col].val=0,n[t.row][t.col-1].val=4,t.col=t.col-1,t.texture=PIXI.Texture.fromImage("images/left.png"),TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){github=!1}),this.moveSence(t),!0);case"right":return 1!=n[t.row][t.col+1].val&&5!=n[t.row][t.col+1].val&&(github=!0,n[t.row][t.col].val=0,n[t.row][t.col+1].val=4,t.col=t.col+1,t.texture=PIXI.Texture.fromImage("images/right.png"),TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){github=!1}),this.moveSence(t),!0)}}},{key:"renderGame",value:function(){for(var e=this.map.end,t=0;t<e.length;t++)this.hitBox(e[t],this.map.player)&&(this.map.player.visible=!1,this.layaOut.showLaya("很遗憾失败"),clearInterval(this.timer));this.hitBox(this.map.haskey,this.map.player)&&(this.layaOut.showLaya("恭喜您通关了"),clearInterval(this.timer))}},{key:"createboom",value:function(e){var t=this;if(this.boom.children.length<this.maxlen){var n=this.createSprite("images/boom.png",{x:e.x,y:e.y});n.row=e.row,n.col=e.col,e.parent.addChild(this.boom),this.boom.addChild(n);var o=null;o=setTimeout(function(){var r=t.boomRange(t.map.MapPool,e);for(var a in r)null!=r[a]&&(n.visible=!1,t.PlayAnimation(r[a],function(){t.boom.removeChild(n)}));clearTimeout(o)},this.delay)}}},{key:"boomRange",value:function(e,t){var n={row:t.row-1,col:t.col,x:t.x,y:t.row-50,parent:t.parent},o={row:t.row+1,col:t.col,x:t.x,y:t.row+50,parent:t.parent},r={row:t.row,col:t.col-1,x:t.col-50,y:t.y,parent:t.parent},a={row:t.row,col:t.col+1,x:t.col+50,y:t.y,parent:t.parent},i={};return i.self=t,i.up=1==e[t.row-1][t.col].val?null:n,i.down=1==e[t.row+1][t.col].val?null:o,i.left=1==e[t.row][t.col-1].val?null:r,i.right=1==e[t.row][t.col+1].val?null:a,i}},{key:"renderHit",value:function(e){for(var t=this.map.MapPool,n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)if(this.hitBox(t[n][o],e))switch(t[n][o].val){case 2:this.destoryEnemy(t[n][o]);break;case 4:this.destorySelf(t[n][o]);break;case 5:this.destoryWoodenBox(t[n][o])}}},{key:"destoryEnemy",value:function(e){for(var t=this.map.end,n=0;n<t.length;n++)t[n].row==e.row&&t[n].col==e.col&&(e.texture=PIXI.Texture.fromImage("images/opacity.png"),t[n].texture=PIXI.Texture.fromImage("images/opacity.png"),t[n].boType=0,t[n].val=0,e.boType=0,e.val=0,this.map.end.splice(n,1))}},{key:"destorySelf",value:function(e){console.log("炸到了自己"),this.map.player.visible=!1,this.layaOut.showLaya("很遗憾失败"),clearInterval(this.timer)}},{key:"destoryWoodenBox",value:function(e){e.texture=PIXI.Texture.fromImage("images/opacity.png"),e.boType=0,e.val=0}},{key:"goto",value:function(){var e=this;clearInterval(this.timer),this.timer=setInterval(function(){e.moveball()},500)}},{key:"moveball",value:function(){for(var e=["up","down","left","right"],t=0;t<this.map.end.length;t++){var n=e[this.randnum(0,4)];this.ballHelper(n,this.map.end[t],this.map.MapPool)}}},{key:"ballHelper",value:function(e,t,n){switch(e){case"up":return 1!=n[t.row-1][t.col].val&&5!=n[t.row-1][t.col].val&&(n[t.row][t.col].val=0,t.row=t.row-1,TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){}),n[t.row][t.col].val=2,!0);case"down":return 1!=n[t.row+1][t.col].val&&5!=n[t.row+1][t.col].val&&(n[t.row][t.col].val=0,t.row=t.row+1,TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){}),n[t.row][t.col].val=2,!0);case"left":return 1!=n[t.row][t.col-1].val&&5!=n[t.row][t.col-1].val&&(n[t.row][t.col].val=0,t.col=t.col-1,TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){}),n[t.row][t.col].val=2,!0);case"right":return 1!=n[t.row][t.col+1].val&&5!=n[t.row][t.col+1].val&&(n[t.row][t.col].val=0,t.col=t.col+1,TWEEN.Tween.get(t).to({x:50*t.col,y:50*t.row},200,TWEEN.Ease.linear).call(function(){}),n[t.row][t.col].val=2,!0)}}},{key:"hitBox",value:function(e,t){return Math.abs(e.x-t.x)<e.width/2+t.width/2&&Math.abs(e.y-t.y)<e.height/2+t.height/2}},{key:"randnum",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"PlayAnimation",value:function(e,t){var n=this,o=this.createAnimatedSprite("images/bombing/",25,{x:50*e.col,y:50*e.row,loop:!1,animationSpeed:.3},1);o.play(),o.onFrameChange=function(e){n.renderHit(o)},o.onComplete=function(e){o.parent.removeChild(o),t&&t()},e.parent.addChild(o)}},{key:"createSprite",value:function(e,t){var n=new PIXI.Sprite.fromImage(e);if(t)for(var o in t)void 0!==n[o]&&(n[o]=t[o]);return n}},{key:"createAnimatedSprite",value:function(e,t,n,o){var r=[],a=void 0,i=void 0;for(a=o||0;a<t;a++){var l=PIXI.Texture.fromImage(e+a+".png");r.push(l)}if(i=new PIXI.extras.AnimatedSprite(r),n)for(var u in n)void 0!==i[u]&&(i[u]=n[u]);return i}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.parent=e,n.ButtonContainer=new PIXI.Container,n.enableTouch=!0,n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.utils.EventEmitter),o(t,[{key:"init",value:function(){var e=this;this.parent.addChild(this.ButtonContainer),this.createButton("images/upbtn.png",0,150).on("pointerdown",function(){github||e.emit("move","up")}),this.createButton("images/downbtn.png",0,270).on("pointerdown",function(){github||e.emit("move","down")}),this.createButton("images/leftbtn.png",0,390).on("pointerdown",function(){github||e.emit("move","left")}),this.createButton("images/rightbtn.png",0,510).on("pointerdown",function(){github||e.emit("move","right")}),this.createButton("images/hiter.png",600,650).on("pointerdown",function(){e.emit("boom","boom")})}},{key:"createButton",value:function(e,t,n){var o=new PIXI.Sprite.fromImage(e);return o.interactive=!0,o.position.set(t,n),this.ButtonContainer.addChild(o),o}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var a=function(e){function t(e,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.layaOut=new PIXI.Graphics,i.Container=e,i.viewWidth=n,i.viewHeight=o,i.senceManger=a,i.Container.addChild(i),i.visible=!1,i.createLaya(),i.createButton("images/replay.png",i.viewHeight/2,i.viewWidth/2-100).on("touchstart",function(){i.hideLaya(),i.senceManger.renderSence.length=0,i.senceManger.loadScene(r.default,{app:i.senceManger.app,senceManger:i.senceManger})}),i.style=new PIXI.TextStyle({fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff","#00ff99"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6}),i.message=new PIXI.Text("失败",i.style),i.message.anchor.set(.5,.5),i.message.position.set(i.viewHeight/2,i.viewWidth/2-100),i.addChild(i.message),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.Graphics),o(t,[{key:"createLaya",value:function(){this.clear(),this.beginFill(0,.5),this.drawRect(0,0,this.viewHeight,this.viewWidth),this.endFill()}},{key:"createButton",value:function(e,t,n){var o=new PIXI.Sprite.fromImage(e);return o.interactive=!0,o.alpha=0,o.anchor.set(.5,.5),o.position.set(t,n),this.addChild(o),o}},{key:"showLaya",value:function(e){this.visible=!0,this.message.text=e,TWEEN.Tween.get(this.children[0]).to({alpha:1,y:this.viewWidth/2},400,TWEEN.Ease.linear)}},{key:"hideLaya",value:function(){this.visible=!1,TWEEN.Tween.get(this.children[0]).to({alpha:0,y:this.viewWidth/2-100},400,TWEEN.Ease.linear)}}]),t}();t.default=a}]);