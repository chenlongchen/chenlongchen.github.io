!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(3)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.app=e.app,n.sence=new PIXI.Container,n.senceManger=e.senceManger,n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.Container),o(t,[{key:"init",value:function(){var e=new r.default(0);this.sence.addChild(e.spriteContainer),this.addChild(this.sence);var t=new i.default(e,{Container:this,width:this.app.renderer.view.width,height:this.app.renderer.view.height,senceManger:this.senceManger});this.senceManger.renderSence.push(t),console.log(this.senceManger)}}]),t}();t.default=l},function(e,t,n){"use strict";var o=i(n(2)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=new PIXI.loaders.Loader;a.add(["images/2.png","images/3.png","images/4.png","images/block.png","images/boom.png","images/box.png","images/box1.png","images/down.png","images/up.png","images/left.png","images/right.png","images/key.png","images/downbtn.png","images/upbtn.png","images/leftbtn.png","images/rightbtn.png","images/hiter.png","images/opacity.png","images/player.png","images/replay.png","images/wall.png"]).onProgress.add(function(e){console.log(Math.round(e.progress)+"%")}),a.load(function(e,t){p.loadScene(r.default,{app:s,senceManger:p})});window.devicePixelRatio;var l=window.innerWidth,u=window.innerHeight,c=new PIXI.Container,s=new PIXI.Application({width:l,height:u,antialias:!0,transparent:!0}),f=new Stats;f.showPanel(0),document.body.appendChild(f.dom),s.renderer.autoResize=!0,s.stage.addChild(c),c.rotation=Math.PI/2,s.renderer.resize(l,u),c.position.set(l,0),document.getElementById("canvas").append(s.renderer.view);var p=new o.default(c,s);s.ticker.add(function(){if(f.begin(),0!=p.renderSence.length)for(var e=0;e<p.renderSence.length;e++)p.renderSence[e].renderGame();f.end()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentScene=null,this.stage=t,this.app=n,this.renderSence=[]}return o(e,[{key:"loadScene",value:function(e,t){this.currentScene=t?new e(t):new e,this.stage.removeChildren(),this.stage.addChild(this.currentScene)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(4)),i=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=r.default[t],this.player=null,this.spriteContainer=new PIXI.Container,this.box=new PIXI.Container,this.MapPool=[],this.end=[],this.canMove=[],this.KeyItem=[],this.haskey=null,this.timer=null,this.background=new PIXI.particles.ParticleContainer(this.map.length*this.map[0].length,{scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),this.drawMap(this.map),this.pushKey(),this.goto()}return o(e,[{key:"pushKey",value:function(){var e=this.randnum(0,this.KeyItem.length),t=this.KeyItem[e],n=new PIXI.Sprite(PIXI.Texture.fromImage("images/key.png"));n.position.set(t.x,t.y),t.keyRoom=n,this.haskey=t;var o=this.box.children.indexOf(t);this.box.addChildAt(n,o)}},{key:"goto",value:function(){var e=this;clearInterval(this.timer),this.timer=setInterval(function(){e.moveball()},500)}},{key:"moveball",value:function(){for(var e=["up","down","left","right"],t=0;t<this.end.length;t++){var n=e[this.randnum(0,4)];this.ballHelper(n,this.end[t],this.MapPool)}}},{key:"ballHelper",value:function(e,t,n){switch(e){case"up":return 1!=n[t.row-1][t.col].val&&5!=n[t.row-1][t.col].val&&(n[t.row][t.col].val=0,n[t.row-1][t.col].val=3,t.row=t.row-1,t.position.set(50*t.col,50*t.row),!0);case"down":return 1!=n[t.row+1][t.col].val&&5!=n[t.row+1][t.col].val&&(n[t.row][t.col].val=0,n[t.row+1][t.col].val=3,t.row=t.row+1,t.position.set(50*t.col,50*t.row),!0);case"left":return 1!=n[t.row][t.col-1].val&&5!=n[t.row][t.col-1].val&&(n[t.row][t.col].val=0,n[t.row][t.col-1].val=3,t.col=t.col-1,t.position.set(50*t.col,50*t.row),!0);case"right":return 1!=n[t.row][t.col+1].val&&5!=n[t.row][t.col+1].val&&(n[t.row][t.col].val=0,n[t.row][t.col+1].val=3,t.col=t.col+1,t.position.set(50*t.col,50*t.row),!0)}}},{key:"moveHiter",value:function(e){}},{key:"drawMap",value:function(e){for(var t=0;t<e.length;t++){this.MapPool[t]=[];for(var n=0;n<e[t].length;n++){var o=new PIXI.Sprite;o.position.set(50*n,50*t);var r=new PIXI.Sprite;switch(r.position.set(50*n,50*t),r.texture=PIXI.Texture.fromImage("images/block.png"),r.boType=0,r.val=0,e[t][n]){case 0:o.texture=PIXI.Texture.fromImage("images/opacity.png"),o.boType=0,o.val=0,this.canMove.push({row:t,col:n});break;case 1:o.texture=PIXI.Texture.fromImage("images/box.png"),o.boType=1,o.val=1;break;case 2:o.texture=PIXI.Texture.fromImage("images/box1.png"),o.boType=2,o.val=1;break;case 3:o.texture=PIXI.Texture.fromImage("images/4.png"),o.boType=3,o.val=2,this.end.push(o);break;case 4:o.texture=PIXI.Texture.fromImage("images/down.png"),o.boType=4,o.val=4,this.player=o;break;case 5:o.texture=PIXI.Texture.fromImage("images/3.png"),o.boType=5,o.val=5,this.KeyItem.push(o)}o.row=t,o.col=n,this.MapPool[t][n]=o,this.box.addChild(o),this.background.addChild(r)}}this.spriteContainer.addChild(this.background,this.box)}},{key:"moveEnemy",value:function(e,t,n,o){var r=(0,i.default)(e,t,n);if(r)for(var a=0;a<r.length;a++)!function(n){var i=null;i=setTimeout(function(){e[t.row][t.col].val=0,e[r[n].row][r[n].col].val=2,t.row=r[n].row,t.col=r[n].col,t.position.set(r[n].x,r[n].y),n==r.length-1&&(console.log("end"),o&&o()),clearTimeout(i)},500*n)}(a);else console.log("无路可走")}},{key:"noRepeat",value:function(e,t,n){for(var o=[],r=0;r<e;r++){o[r]=parseInt(Math.random()*(n-t+1)+t);for(var i=0;i<r;i++)if(o[r]==o[i]){r-=1;break}}return o}},{key:"randnum",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[];o[0]=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,5,3,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,1,1],[1,1,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,2,0,2,0,2,0,2,5,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,5,0,1,1],[1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,1,1],[1,1,4,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],t.default=o},function(e,t,n){"use strict";function o(e,t){var n=null,o=null,r=null,i=null,a=[];return t.row-1>=0&&(n=e[t.row-1][t.col],a.push(n)),t.col-1>=0&&(o=e[t.row][t.col-1],a.push(o)),t.row+1<e.length&&(r=e[t.row+1][t.col],a.push(r)),t.col+1<e[0].length&&(i=e[t.row][t.col+1],a.push(i)),a}function r(e,t){for(var n=0,o=e.length;n<o;n++)if(t.row==e[n].row&&t.col==e[n].col||t==e[n])return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=[],a=[],l=null,u=!0;for(t.F=0,t.G=0,t.H=0,a.push(t),l=t,Math.abs(t.row-n.row)+Math.abs(t.col-n.col)==1&&(n.P=t,a.push(n),u=!1);l&&u;){r(a,l)||a.push(l);for(var c=o(e,l),s=0;s<c.length;s++)1==c[s].val||r(a,c[s])||r(i,c[s])||r(i,c[s])||1==c[s].val||(c[s].G=l.G+1,c[s].H=Math.abs(c[s].col-n.col)+Math.abs(c[s].row-n.row),c[s].F=c[s].G+c[s].H,c[s].P=l,i.push(c[s]));if(!i.length){l=null,i=[],a=[];break}i.sort(function(e,t){return e.F-t.F});var f=i[0],p=[];for(s=0;s<i.length;s++)i[s].F==f.F&&p.push(i[s]);if(p.length>1){for(s=0;s<p.length;s++)p[s].D=Math.abs(p[s].row-l.row)+Math.abs(p[s].col-l.col);p.sort(function(e,t){return e.D-t.D}),f=p[0]}for(r(a,l=f)||a.push(l),s=0;s<i.length;s++)if(i[s]==l){i.splice(s,1);break}1==l.H&&(n.P=l,a.push(n),l=null)}if(a.length){var h=a[a.length-1],d=[];for(s=0;h;)d.unshift(h),(h=h.P).P||(h=null);return d}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(7)),i=l(n(8)),a=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.maxlen=2,o.boom=new PIXI.Container,o.delay=3e3,o.map=e,o.layaOption=n,o.layaOut=new a.default(o.layaOption.Container,o.layaOption.width,o.layaOption.height,o.layaOption.senceManger),o.init(o.layaOption.height),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.utils.EventEmitter),o(t,[{key:"init",value:function(e){var t=this,n=new r.default(e),o=new i.default(this.layaOption.Container);o.on("move",function(e){n.CanMove(e,t.map.player,t.map.MapPool)&&t.hitBox(t.map.haskey,t.map.player)&&t.layaOut.showLaya("恭喜您通关了")}),o.on("boom",function(e){var n=t.map.player,o={row:n.row,col:n.col,x:n.x,y:n.y,parent:n.parent};t.createboom(o)})}},{key:"renderGame",value:function(){for(var e=this.map.end,t=0;t<e.length;t++)this.hitBox(e[t],this.map.player)&&(this.layaOut.showLaya("很遗憾失败"),clearInterval(this.map.timer))}},{key:"createboom",value:function(e){var t=this;if(this.boom.children.length<this.maxlen){var n=this.createSprite("images/boom.png",{x:e.x,y:e.y});n.row=e.row,n.col=e.col,e.parent.addChild(this.boom),this.boom.addChild(n);var o=null;o=setTimeout(function(){var r=t.boomRange(t.map.MapPool,e);for(var i in r)null!=r[i]&&t.PlayAnimation(r[i],function(){t.boom.removeChild(n)});clearTimeout(o)},this.delay)}}},{key:"boomRange",value:function(e,t){var n={};return n.self=t,n.up=1==e[t.row-1][t.col].val?null:e[t.row-1][t.col],n.down=1==e[t.row+1][t.col].val?null:e[t.row+1][t.col],n.left=1==e[t.row][t.col-1].val?null:e[t.row][t.col-1],n.right=1==e[t.row][t.col+1].val?null:e[t.row][t.col+1],n}},{key:"renderHit",value:function(e){for(var t=this.map.MapPool,n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)if(this.hitBox(t[n][o],e))switch(t[n][o].val){case 2:this.destoryEnemy(t[n][o]);break;case 4:this.destorySelf(t[n][o]);break;case 5:this.destoryWoodenBox(t[n][o])}}},{key:"destoryEnemy",value:function(e){e.texture=PIXI.Texture.fromImage("images/opacity.png"),e.boType=0,e.val=0}},{key:"destorySelf",value:function(e){e.visible=!1,this.layaOut.showLaya("很遗憾失败"),clearInterval(this.map.timer)}},{key:"destoryWoodenBox",value:function(e){e.texture=PIXI.Texture.fromImage("images/opacity.png"),e.boType=0,e.val=0}},{key:"hitBox",value:function(e,t){return Math.abs(e.x-t.x)<e.width/2+t.width/2&&Math.abs(e.y-t.y)<e.height/2+t.height/2}},{key:"PlayAnimation",value:function(e,t){var n=this,o=this.createAnimatedSprite("images/bombing/",25,{x:e.x,y:e.y,loop:!1,animationSpeed:.3},1);o.play(),o.onFrameChange=function(e){n.renderHit(o)},o.onComplete=function(e){o.parent.removeChild(o),t&&t()},e.parent.addChild(o)}},{key:"createSprite",value:function(e,t){var n=new PIXI.Sprite.fromImage(e);if(t)for(var o in t)void 0!==n[o]&&(n[o]=t[o]);return n}},{key:"createAnimatedSprite",value:function(e,t,n,o){var r=[],i=void 0,a=void 0;for(i=o||0;i<t;i++){var l=PIXI.Texture.fromImage(e+i+".png");r.push(l)}if(a=new PIXI.extras.AnimatedSprite(r),n)for(var u in n)void 0!==a[u]&&(a[u]=n[u]);return a}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.viewWdith=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.utils.EventEmitter),o(t,[{key:"moveSence",value:function(e){var t=Math.floor(this.viewWdith/2/50),n=Math.floor((1500-this.viewWdith)/50);e.col>=t&&e.col<=t+n&&(e.parent.parent.parent.position.x=50*-(e.col-t))}},{key:"CanMove",value:function(e,t,n){switch(e){case"up":return 1!=n[t.row-1][t.col].val&&5!=n[t.row-1][t.col].val&&(n[t.row][t.col].val=0,n[t.row-1][t.col].val=4,t.row=t.row-1,t.position.set(50*t.col,50*t.row),t.texture=PIXI.Texture.fromImage("images/up.png"),!0);case"down":return 1!=n[t.row+1][t.col].val&&5!=n[t.row+1][t.col].val&&(n[t.row][t.col].val=0,n[t.row+1][t.col].val=4,t.row=t.row+1,t.position.set(50*t.col,50*t.row),t.texture=PIXI.Texture.fromImage("images/down.png"),!0);case"left":return 1!=n[t.row][t.col-1].val&&5!=n[t.row][t.col-1].val&&(n[t.row][t.col].val=0,n[t.row][t.col-1].val=4,t.col=t.col-1,t.position.set(50*t.col,50*t.row),t.texture=PIXI.Texture.fromImage("images/left.png"),this.moveSence(t),!0);case"right":return 1!=n[t.row][t.col+1].val&&5!=n[t.row][t.col+1].val&&(n[t.row][t.col].val=0,n[t.row][t.col+1].val=4,t.col=t.col+1,t.position.set(50*t.col,50*t.row),t.texture=PIXI.Texture.fromImage("images/right.png"),this.moveSence(t),!0)}}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.parent=e,n.ButtonContainer=new PIXI.Container,n.enableTouch=!0,n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.utils.EventEmitter),o(t,[{key:"init",value:function(){var e=this;this.parent.addChild(this.ButtonContainer),this.createButton("images/upbtn.png",0,150).on("pointerdown",function(){e.emit("move","up")}).on("pointerup",function(){}).on("pointerupoutside",function(){}),this.createButton("images/downbtn.png",0,270).on("pointerdown",function(){e.emit("move","down")}).on("pointerup",function(){}).on("pointerupoutside",function(){}),this.createButton("images/leftbtn.png",0,390).on("pointerdown",function(){e.emit("move","left")}).on("pointerup",function(){}).on("pointerupoutside",function(){}),this.createButton("images/rightbtn.png",0,510).on("pointerdown",function(){e.emit("move","right")}).on("pointerup",function(){}).on("pointerupoutside",function(){}),this.createButton("images/hiter.png",600,650).on("pointerdown",function(){e.emit("boom","boom")}).on("pointerup",function(){}).on("pointerupoutside",function(){})}},{key:"createButton",value:function(e,t,n){var o=new PIXI.Sprite.fromImage(e);return o.interactive=!0,o.position.set(t,n),this.ButtonContainer.addChild(o),o}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(e,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.layaOut=new PIXI.Graphics,a.Container=e,a.viewWidth=n,a.viewHeight=o,a.senceManger=i,a.Container.addChild(a),a.visible=!1,a.createLaya(),a.createButton("images/replay.png",a.viewHeight/2,a.viewWidth/2-100).on("touchstart",function(){a.hideLaya(),a.senceManger.renderSence.length=0,a.senceManger.loadScene(r.default,{app:a.senceManger.app,senceManger:a.senceManger})}),a.style=new PIXI.TextStyle({fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff","#00ff99"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6}),a.message=new PIXI.Text("失败",a.style),a.message.anchor.set(.5,.5),a.message.position.set(a.viewHeight/2,a.viewWidth/2-100),a.addChild(a.message),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,PIXI.Graphics),o(t,[{key:"createLaya",value:function(){this.clear(),this.beginFill(0,.5),this.drawRect(0,0,this.viewHeight,this.viewWidth),this.endFill()}},{key:"createButton",value:function(e,t,n){var o=new PIXI.Sprite.fromImage(e);return o.interactive=!0,o.alpha=0,o.anchor.set(.5,.5),o.position.set(t,n),this.addChild(o),o}},{key:"showLaya",value:function(e){this.visible=!0,this.message.text=e,TWEEN.Tween.get(this.children[0]).to({alpha:1,y:this.viewWidth/2},400,TWEEN.Ease.linear)}},{key:"hideLaya",value:function(){this.visible=!1,TWEEN.Tween.get(this.children[0]).to({alpha:0,y:this.viewWidth/2-100},400,TWEEN.Ease.linear)}}]),t}();t.default=i}]);